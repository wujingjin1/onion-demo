import{p as $,b as w,B as L}from"./use-dictionary-87buCyKg.js";import{B as R}from"./base-search-Cke3leAi.js";import{d as E,j as F,r as l,v as H,E as u,F as i,N as e,O as t,H as a,b as k,K,L as M,S as j,T as z,R as r,G,U as P,V as W,W as q,_ as J}from"./index-YDWfQ26f.js";const Q=n=>$({url:"/watermeter//work/order/task/page/mobile",data:n}),X=n=>(W("data-v-6fe0d396"),n=n(),q(),n),Y={class:"work-order"},Z={class:"base-info"},m={class:"task"},ss=X(()=>e("div",{class:"title"},"任务列表",-1)),es={class:"content"},ts={class:"item"},as={class:"left"},os={class:"right"},rs={class:"bottom"},ns=E({__name:"index",setup(n){const{initDictionarys:S,dictionaryTypes:d,dictionarys:O,findDictionary:p}=w(),B=j(),D=z(),N=F(()=>O.value[d.水表任务状态]);let h=l([]),_=l({}),g=l("yhbh");const A=l([{text:"用户编号",value:"yhbh",type:"input"},{text:"用户名称",value:"yhxm",type:"input"},{text:"任务状态",value:"status",type:"picker",valueList:N}]),C=o=>{_.value=o,v()},U=o=>{var c;r.setCurrentTaskUserInfo(o),B.push(`/taskDetails/${o.yhbh}/${o.id}/${(c=r.currentOrderInfo)==null?void 0:c.type}`)},v=()=>{Q({..._.value,orderNo:D.params.id}).then(o=>{h.value=o.data.records})};return H(()=>{v(),S([d.水表任务状态,d.水表工单类型])}),(o,c)=>{var f,y,T,b,x,I;return u(),i("div",Y,[e("div",Z,[e("div",null,"工单号："+t((f=a(r).currentOrderInfo)==null?void 0:f.orderNo),1),e("div",null," 工单类型： "+t(a(p)(a(d).水表工单类型,(y=a(r).currentOrderInfo)==null?void 0:y.type)),1),e("div",null,"派遣日期："+t((T=a(r).currentOrderInfo)==null?void 0:T.dispatchTime),1),e("div",null,"截止日期："+t((b=a(r).currentOrderInfo)==null?void 0:b.planCompleteTime),1),e("div",null,"派遣人："+t((x=a(r).currentOrderInfo)==null?void 0:x.dispatchUser),1),e("div",null,"任务数量："+t((I=a(r).currentOrderInfo)==null?void 0:I.taskTotal),1)]),e("div",m,[ss,k(R,{"search-type":A.value,"default-type":a(g),onSearch:C},null,8,["search-type","default-type"]),(u(!0),i(K,null,M(a(h),(s,V)=>(u(),i("div",es,[e("div",ts,[e("div",as,t(V+1),1),e("div",os,[e("div",null,"用户编号："+t(s==null?void 0:s.yhbh),1),e("div",null,"用户名称："+t(s==null?void 0:s.yhxm),1),e("div",null,"用户手机："+t(s==null?void 0:s.yhMobile),1),e("div",null,"用户地址："+t(s==null?void 0:s.address),1),e("div",rs,[e("div",null,"任务状态："+t(a(p)(a(d).水表任务状态,s==null?void 0:s.status)),1),k(a(L),{disabled:s.status!==0,class:"btn",type:"primary",size:"small",onClick:ds=>U(s)},{default:G(()=>[P(t(s.status!==0?"已处理":"处理"),1)]),_:2},1032,["disabled","onClick"])])])])]))),256))])])}}}),is=J(ns,[["__scopeId","data-v-6fe0d396"]]);export{is as default};
